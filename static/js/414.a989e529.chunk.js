"use strict";(self.webpackChunkjamni=self.webpackChunkjamni||[]).push([[414],{8485:function(e,n,t){t.d(n,{A:function(){return i}});var a=t(5544),r=t(5043),s=t(579);function i(e){var n=e.id,t=e.bg,i=e.posY,l=e.description,c=e.headline,o=(0,r.useState)(!1),u=(0,a.A)(o,2),d=u[0],x=u[1];return(0,r.useEffect)((function(){var e=new Image;e.src=t,e.onload=function(){x(!0)}}),[]),(0,s.jsx)("section",{id:n,className:"intro",children:(0,s.jsxs)("div",{className:"center-gr",style:{opacity:d?"1":"0",background:"url(".concat(t,") no-repeat"),"--posY":i},children:[(0,s.jsx)("div",{className:"mask-layer"}),(0,s.jsxs)("div",{className:"container text-center",children:[(0,s.jsx)("h2",{className:"text-light",children:c}),l&&(0,s.jsx)("p",{className:"text-light small-text text-main up-case",dangerouslySetInnerHTML:{__html:l}})]})]})})}},9684:function(e,n,t){t.d(n,{A:function(){return u}});var a=t(5043);var r=t.p+"static/media/pagination-arrow-left.df03b068cc2d9c293788f72e40958200.svg";var s=t.p+"static/media/pagination-arrow-right.09326ff90cb67244b048fb55c1d2b033.svg",i=t(5544),l=t(5475),c=t(1192);var o=t(579);function u(e){var n=function(e,n){var t,r=(0,a.useState)(e>5?[1,2,3,4,5,"...",e]:Array(e).fill(null).map((function(e,n){return n+1}))),s=(0,i.A)(r,2),o=s[0],u=s[1],d=(0,l.ok)(),x=(0,i.A)(d,2),m=x[0],p=x[1],h=parseInt(null!==(t=m.get("page"))&&void 0!==t?t:1),v=(0,a.useContext)(c.x).scrollbarAccess;return{pages:o,activePage:h,handlePagination:function(t){if(!(t>e||t<=0||"..."===t)){var a=document.querySelector(n);v.current?v.current.scrollIntoView(a,{block:"start",alignToTop:!0}):a.scrollIntoView({behavior:"smooth"}),setTimeout((function(){e>5&&u(t>=5&&t+2<e?[1,"...",t-1,t,t+1,"...",e]:t+2>=e?[1,"...",e-4,e-3,e-2,e-1,e]:[1,2,3,4,5,"...",e]),m.set("page",t),p(m)}),500)}}}}(e.pagesCount,e.scrollElem),t=n.pages,u=n.activePage,d=n.handlePagination;return(0,o.jsx)("div",{className:"pagination",children:(0,o.jsxs)("div",{className:"row gap-30 center-y end-x",children:[(0,o.jsx)("div",{className:"prev",onClick:function(){return d(u-1)},children:(0,o.jsx)("img",{src:r,alt:"prev"})}),(0,o.jsx)("ul",{className:"row gap-10 xsmall-text text-main",children:t.map((function(e,n){return(0,o.jsx)("li",{style:{pointerEvents:"..."!==e?"all":"none"},className:u==e&&"..."!==e?"active":"inactive",onClick:function(){return d(e)},children:e},n)}))}),(0,o.jsx)("div",{className:"next",onClick:function(){return d(u+1)},children:(0,o.jsx)("img",{src:s,alt:"next"})})]})})}},6822:function(e,n,t){t.d(n,{A:function(){return l}});var a=t(241),r=t(3216),s=t(6990),i=t(579);function l(e){var n=e.level,t=(0,r.Zp)();return(0,i.jsxs)(s.A,{className:"no-results center-gr",children:[(0,i.jsx)("h3",{className:"up-case",children:"no results found"}),(0,i.jsx)(a.A,{onClick:function(){return t(null!==n&&void 0!==n?n:".")},children:"go back"})]},"no-results")}},630:function(e,n,t){t.d(n,{A:function(){return o},m:function(){return c}});var a=t(436),r=t(9379),s=t(4765),i=t(5544),l=t(5475),c={"\u0441\u0435\u0440\u044b\u0439":"palette-gray-light","\u0447\u0435\u0440\u043d\u044b\u0439":"black","\u043a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u044b\u0439":"palette-brown","\u0431\u0435\u043b\u044b\u0439":"white","\u0431\u0435\u0436\u0435\u0432\u044b\u0439":"palette-beige","\u0437\u0435\u043b\u0435\u043d\u044b\u0439":"palette-green","\u0442\u0435\u043c\u043d\u043e-\u0441\u0435\u0440\u044b\u0439":"palette-gray","\u0441\u0432\u0435\u0442\u043b\u043e-\u043a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u044b\u0439":"palette-brown-light"};function o(e){var n,t=(0,l.ok)(),o=(0,i.A)(t,2),u=o[0],d=o[1],x=null!==(n=u.getAll(e))&&void 0!==n?n:[],m=["minprice","maxprice","minwidth","maxwidth","mindepth","maxdepth"];return{handleSearchParams:function(n){var t=new URLSearchParams(u);if(m.includes(e))return t.set(e,n),void d(t);var a=t.getAll(e);if(a.includes(n)){var r=a.filter((function(e){return e!==n}));t.delete(e),r.forEach((function(n){return t.append(e,n)}))}else t.append(e,n);d(t)},handleFilter:function(e){var n,t={},l=[],o=[],d=null,x=null,m=null,p=null,h=null,v=null,f=(0,s.A)(u.entries());try{for(f.s();!(n=f.n()).done;){var g=(0,i.A)(n.value,2),j=g[0],w=g[1];"page"!==j&&("minprice"===j?d=parseFloat(w)||0:"maxprice"===j?x=parseFloat(w)||25e4:"minwidth"===j?m=parseFloat(w)||0:"maxwidth"===j?p=parseFloat(w)||1e4:"mindepth"===j?h=parseFloat(w)||0:"maxdepth"===j?v=parseFloat(w)||1e4:"description"===j?l.push(w):"colors"===j?o.push(c[w]):t[j]=t[j]?[].concat((0,a.A)(t[j]),[w]):[w])}}catch(N){f.e(N)}finally{f.f()}e((function(e){return e.map((function(e){var n=Object.entries(t).every((function(n){var t=(0,i.A)(n,2),a=t[0];return t[1].includes(e[a])})),a=l.every((function(n){return!0===e[n]})),s=(!x||e.price<=x)&&(!d||e.price>=d),c=(!p||e.width<=p)&&(!m||e.width>=m),u=(!v||e.depth<=v)&&(!h||e.depth>=h),f=0===o.length||e.colors.some((function(e){return o.includes(e)}));return(0,r.A)((0,r.A)({},e),{},{isShown:n&&a&&s&&c&&u&&f})}))}),!1)},resetFilter:function(e){u.delete(e),d(u)},allFilterParams:x}}},9414:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var a=t(1727),r=t(8485),s=t(5544),i=t(5043),l=t(2042),c=t(5475),o=t(8967),u=t(7555),d=t(9684),x=t(630),m=t(3546),p=t(6990),h=t(6822),v=t(5282),f=t(579);function g(e){return(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"24",viewBox:"0 0 26 24",children:(0,f.jsx)("path",{d:"M14.0093 1.4952C13.5597 0.720353 12.4407 0.72035 11.9911 1.4952L8.82471 6.95206C8.6026 7.33482 8.21871 7.59603 7.78114 7.66212L1.84711 8.55838C0.850445 8.70891 0.500842 9.96729 1.27703 10.6104L5.69764 14.2728C6.10684 14.6118 6.29924 15.1466 6.19984 15.6686L5.04348 21.7412C4.86068 22.7012 5.86843 23.4471 6.73311 22.9918L12.3207 20.0497C12.746 19.8257 13.2543 19.8257 13.6796 20.0497L19.2673 22.9918C20.132 23.4471 21.1397 22.7012 20.9569 21.7412L19.8005 15.6686C19.7011 15.1466 19.8935 14.6118 20.3027 14.2728L24.7233 10.6104C25.4995 9.9673 25.1499 8.70891 24.1533 8.55838L18.2192 7.66212C17.7817 7.59603 17.3978 7.33482 17.1757 6.95206L14.0093 1.4952Z",fill:e.filled?"black":"#989898"})})}function j(e){var n=e.el;return(0,f.jsxs)("div",{className:"review-item text-main",children:[(0,f.jsx)("span",{className:"small-text text-black",children:n.name}),(0,f.jsx)("span",{className:"xxsmall-text text-gray",children:"\u0432\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d"}),(0,f.jsxs)("div",{className:"row wrap gap-20 s-between center-y",children:[(0,f.jsx)("div",{className:"reviews-stars row gap-5",children:Array(5).fill(null).map((function(e,t){return(0,f.jsx)(g,{filled:t+1<=n.review},t)}))}),(0,f.jsx)("span",{className:"xxsmall-text text-gray",children:n.date})]}),n.comment.map((function(e,n){return(0,f.jsx)("p",{className:"text-black xsmall-text",children:e},n)})),n.image&&(0,f.jsx)("div",{className:"review-image",style:{background:"url(".concat(n.image,")")}}),(0,f.jsx)("span",{className:"xxsmall-text text-black",children:n.product})]})}function w(e){var n=e.data,t=e.isLoading,a=e.searchParams,r=e.error,s=n&&n.every((function(e){return!1===e.isShown}));return(0,f.jsx)(m.N,{mode:"wait",children:r?(0,f.jsx)(u.A,{message:r.message}):!t&&n?s?(0,f.jsx)(h.A,{}):(0,f.jsx)(p.A,{className:"section-layout",children:n.map((function(e,n){return(0,f.jsx)(j,{el:e},n)}))},a):(0,f.jsx)(v.A,{})})}function N(e){var n=e.reviewsCount,t=(0,i.useMemo)((function(){return(n.reduce((function(e,n){return e+n}),0)/n.length).toFixed(1)}),[]),a=(0,i.useMemo)((function(){var e={1:0,2:0,3:0,4:0,5:0};return n.forEach((function(n){return e[n]++})),e}),[]);return(0,f.jsxs)("div",{className:"reviews-header row wrap center-y s-between gap-20",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"row gap-15 center-y",children:[(0,f.jsx)("div",{className:"total-rate text-main text-black",children:t}),(0,f.jsxs)("div",{className:"reviews-stars",children:[(0,f.jsx)("div",{className:"row gap-5",children:Array(5).fill(null).map((function(e,n){return(0,f.jsx)(g,{filled:!1},n)}))}),(0,f.jsx)("div",{className:"reviews-stars-mask row gap-5",style:{clipPath:"inset(0 ".concat(100-t/5*100,"% 0 0)")},children:Array(5).fill(null).map((function(e,n){return(0,f.jsx)(g,{filled:!0},n)}))})]})]}),(0,f.jsxs)("span",{className:"xxsmall-text text-main",children:["\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 ",n.length," \u043e\u0442\u0437\u044b\u0432\u043e\u0432"]})]}),(0,f.jsx)("div",{className:"row wrap gap-10",children:Object.values(a).reverse().map((function(e,n){return(0,f.jsxs)("div",{className:"review-output row gap-5 center-y text-main text-gray xsmall-text",children:[Math.abs(5-n)," ",(0,f.jsx)(g,{filled:!1})," ","(".concat(e,")")]},n)}))})]})}function A(){var e,n=(0,c.ok)(),t=(0,s.A)(n,1)[0],a=parseInt(null!==(e=t.get("page"))&&void 0!==e?e:1),r=(0,l.A)(["reviews",a,12]),u=r.data,m=r.error,p=r.isLoading,h=r.mutate,v=(0,l.A)(["reviews-count"],o.Hq).data,g=(0,x.A)().handleFilter;return(0,i.useEffect)((function(){u&&g(h)}),[t,p]),(0,f.jsx)("section",{id:"reviews",children:(0,f.jsxs)("div",{className:"container",children:[(0,f.jsxs)("div",{className:"row gap-10 xxxsmall-text text-main text-black up-case",children:[(0,f.jsx)(c.N_,{className:"text-gray",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),(0,f.jsx)("span",{children:"/"}),(0,f.jsx)("span",{children:"\u043e\u0442\u0437\u044b\u0432\u044b"})]}),v&&(0,f.jsx)(N,{reviewsCount:v}),(0,f.jsx)(w,{error:m,isLoading:p,searchParams:t,data:u}),v&&(0,f.jsx)(d.A,{pagesCount:Math.ceil((v.length-1)/12),scrollElem:"#reviews"})]})})}var b=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.A,{bg:a,id:"reviews-intro",posY:"70%",headline:"\u043e\u0442\u0437\u044b\u0432\u044b",description:"\u041c\u043d\u0435\u043d\u0438\u0435 \u043d\u0430\u0448\u0438\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u043d\u0430\u0441"}),(0,f.jsx)(A,{})]})}},1727:function(e,n,t){e.exports=t.p+"static/media/img_21.ef47eba8546a1ca705d7.webp"}}]);
//# sourceMappingURL=414.a989e529.chunk.js.map