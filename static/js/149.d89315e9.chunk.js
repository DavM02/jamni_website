"use strict";(self.webpackChunkjamni=self.webpackChunkjamni||[]).push([[149],{682:function(t,n,e){var i=e(4765),r=e(5544),o=e(2042),u=e(3440),c=e(7589),a=e(5065),d=e(8967),l=e(3216),s=e(5475);n.A=function(t){var n=(0,u.h)((function(t){return t.addProduct})),e=(0,c.o)(),f=e.addProduct,p=e.products,m=(0,a.Z)().toggleAdded,v=(0,a.Z)().toggleFav,g=p.some((function(n){return t===n.id})),A=(0,s.ok)(),h=(0,r.A)(A,1)[0].get("id"),y=(0,l.g)().catalog,x=(0,o.A)([h,y],d.Gq).data;return{handleAddToCart:function(t){var e,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;t&&t.preventDefault();var a=null!==c&&void 0!==c?c:x,d={catalog:a.id.split("_")[1],product:a.product,image:null!==(e=a.image)&&void 0!==e?e:a.images[0],name:a.name,collection:a.collection,id:a.id,price:a.price,quantity:null!==(o=a.quantity)&&void 0!==o?o:0,priceConfig:u&&u.length?u.reduce((function(t,n){return t+n.price*n.quantity}),0):0,configuration:u&&u.length?u:void 0};if((null===t||void 0===t?void 0:t.target)instanceof HTMLFormElement){var l,s=new FormData(t.target),f=(0,i.A)(s.entries());try{for(f.s();!(l=f.n()).done;){var p=(0,r.A)(l.value,2),v=p[0],g=p[1];d[v]=g}}catch(A){f.e(A)}finally{f.f()}}n(d),m(),setTimeout((function(){m()}),1500)},handleAddToFav:function(t,n){var e={catalog:t.id.split("_")[1],product:t.product,image:t.images[0],name:t.name,collection:t.collection,id:t.id,price:t.price};if(n){var o,u=new FormData(n.current),c=(0,i.A)(u.entries());try{for(c.s();!(o=c.n()).done;){var a=(0,r.A)(o.value,2),d=a[0],l=a[1];e[d]=l}}catch(s){c.e(s)}finally{c.f()}}f(e),v(),setTimeout((function(){v()}),1500)},isFav:g}}},149:function(t,n,e){e.r(n),e.d(n,{default:function(){return f}});var i=e(9379),r=e(7589),o=e(3546),u=e(6990),c=e(3716),a=e(5073),d=e(2045),l=e(682),s=e(579);function f(){var t=(0,r.o)(),n=t.products,e=t.removeProduct,f=t.increaseQuantity,p=t.decreaseQuantity,m=(0,l.A)().handleAddToCart;return(0,s.jsx)("section",{id:"favorites",children:(0,s.jsx)("div",{className:"center-flex",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)(o.N,{mode:"wait",initial:!1,children:n.length>0?(0,s.jsx)(u.A,{children:(0,s.jsx)("ul",{className:"fav-items column gap-40",children:n.map((function(t){return(0,s.jsxs)(d.A,{product:t,children:[(0,s.jsx)(c.A,{product:t,increaseQuantity:f,decreaseQuantity:p,removeProduct:e}),(0,s.jsx)(a.A,{onClick:function(n){n.stopPropagation(),m(n,null,(0,i.A)((0,i.A)({},t),{},{quantity:t.quantity}))},children:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]},t.id)}))})},"list"):(0,s.jsx)(u.A,{children:(0,s.jsx)("h5",{className:"text-center",children:"\u0443 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})},"no-found")})})})})}},7589:function(t,n,e){e.d(n,{o:function(){return c}});var i=e(9379),r=e(436),o=e(4131),u=e(4893),c=(0,o.v)((0,u.Zr)((function(t,n){return{products:[],addProduct:function(n){t((function(t){return t.products.some((function(t){return t.id===n.id}))?{products:t.products.map((function(t){return t.id===n.id?(0,i.A)((0,i.A)({},t),{},{quantity:t.quantity+1}):t}))}:{products:[].concat((0,r.A)(t.products),[(0,i.A)((0,i.A)({},n),{},{quantity:1})])}}))},removeProduct:function(n){t((function(t){return{products:t.products.filter((function(t){return t.id!==n}))}}))},increaseQuantity:function(n){t((function(t){return{products:t.products.map((function(t){return t.id===n?(0,i.A)((0,i.A)({},t),{},{quantity:t.quantity+1}):t}))}}))},decreaseQuantity:function(n,e){t((function(t){return{products:1===e?t.products.filter((function(t){return t.id!==n})):t.products.map((function(t){return t.id===n?(0,i.A)((0,i.A)({},t),{},{quantity:Math.max(1,t.quantity-1)}):t}))}}))}}}),{name:"fav-storage",getStorage:function(){return localStorage}}))}}]);
//# sourceMappingURL=149.d89315e9.chunk.js.map